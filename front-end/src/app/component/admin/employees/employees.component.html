<div class="row">
    <div class="col-12">
        <div class="card ">
            <div class="card-body " >
                <h1> All Employee </h1>
                <div class="row">
                    <div class="col-md-4 col-lg-1">
                        <p>Employee</p>
                    </div>    
                    <div class="col-md-6 col-lg-8">
                        <input matInput placeholder="Search" [(ngModel)]="searchValue" (keyup)="applyFilter()">
                    </div>
                    <div class="col-md-6 col-lg-1">
                        <!-- <button mat-raised-button color="primary" (click)="addEmployee(newEmployee) "><i class="bi bi-plus-lg"> Add </i> </button> -->
                        <button mat-raised-button color="primary" (click)="addemployee()"><i class="bi bi-plus-lg"></i> </button>
                    </div>
                    <div class="col-md-6 col-lg-1">
                        <button mat-raised-button color="primary" (click)="refreshPage()"><i class="bi bi-arrow-clockwise"></i> </button>
                    </div>
                    <div class="col-md-6 col-lg-1">
                        <button mat-raised-button color="primary"><i class="bi bi-filetype-xlsx"></i> </button>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class = "mat-elevation-z8 w-100" mat-table [dataSource]="dataSource" matSort >
                        <!-- Define the columns -->
                        
                        <ng-container *ngFor="let column of displayedColumns">
                            <ng-container [matColumnDef]="column">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ column | titlecase }}</th>
                                <td mat-cell *matCellDef="let element">
                                        <ng-container *ngIf="column === 'user_id'">
                                        {{ element.user.id }}
                                      </ng-container>
                                       
                                      <ng-container *ngIf="column === 'username'">
                                        {{ element.user.username }}
                                      </ng-container>

                                      <ng-container *ngIf="column === 'first_name'">
                                        {{ element.user.first_name }}
                                      </ng-container>
                                      <ng-container *ngIf="column === 'last_name'">
                                        {{ element.user.last_name }}
                                      </ng-container>
                                      <ng-container *ngIf="column === 'email'">
                                        {{ element.user.email }}
                                      </ng-container>
 
                                      <ng-container *ngIf="column !== 'User_id' && column !== 'Username' && column !== 'First_name' && column !== 'Last_name' && column !== 'Email'">
                                        {{ element[column] }}
                                      </ng-container> 
                                

                                      <!-- <ng-container *ngIf="column === 'user'">
                                        <ng-container *ngFor="let user of displayuser">
                                        {{ element.user[user] }}
                                      </ng-container> -->
                                    <!-- </ng-container>
                                      <ng-container *ngIf="column !== 'user'">
                                        {{ element[column] }}
                                      </ng-container> -->
                                   
                                    <!-- <button mat-button color="primary">Edit</button> -->
                                    <ng-container *ngIf="column === 'edit'">
                                            <button mat-icon-button matTooltip="Click to Edit" class="iconbutton" color="primary" (click)="updateEmp(element.id)">
                                                <mat-icon>edit</mat-icon>
                                              </button>
                                    </ng-container>
                                    <ng-container *ngIf="column === 'delete'">
                                            <button mat-icon-button matTooltip="Click to Delete" class="iconbutton" color="warn" (click)="deleteEmployee(element.id)">
                                              <mat-icon>delete</mat-icon>
                                            </button>
                                    </ng-container>
                                </td>
                            </ng-container>
                        </ng-container>
                        
                        <!-- Add Edit and Delete columns to the displayedColumns array -->
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                    </table>
                      <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>

                </div>
                      <!-- Add other UI elements and buttons as needed -->
                      
            </div>
        </div>
    </div>
</div>
